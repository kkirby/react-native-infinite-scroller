import React, { useState, useEffect, useMemo } from 'react';
import { View } from 'react-native';
export default function InfiniteItem({
  item,
  renderItem,
  onLayout
}) {
  const [state, setState] = useState({
    left: item.left,
    data: item.data
  });
  useEffect(() => {
    const onUpdate = () => {
      setState({
        data: item.data,
        left: item.left
      });
    };

    item.on('update', onUpdate);
    return () => {
      item.off('update', onUpdate);
    };
  }, [item]);
  const style = useMemo(() => {
    return {
      position: 'absolute',
      left: state.left
    };
  }, [state.left]);
  const props = {
    onLayout: onLayout != null ? onLayout : undefined
  };
  return <View style={style} {...props}>
			{renderItem(state.data)}
		</View>;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9JbmZpbml0ZUl0ZW0udHN4Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiVmlldyIsIkluZmluaXRlSXRlbSIsIml0ZW0iLCJyZW5kZXJJdGVtIiwib25MYXlvdXQiLCJzdGF0ZSIsInNldFN0YXRlIiwibGVmdCIsImRhdGEiLCJvblVwZGF0ZSIsIm9uIiwib2ZmIiwic3R5bGUiLCJwb3NpdGlvbiIsInByb3BzIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxLQUFQLElBQWVDLFFBQWYsRUFBeUJDLFNBQXpCLEVBQW9DQyxPQUFwQyxRQUFrRCxPQUFsRDtBQUVBLFNBQTJCQyxJQUEzQixRQUFzQyxjQUF0QztBQWtCQSxlQUFlLFNBQVNDLFlBQVQsQ0FBeUI7QUFDdkNDLEVBQUFBLElBRHVDO0FBRXZDQyxFQUFBQSxVQUZ1QztBQUd2Q0MsRUFBQUE7QUFIdUMsQ0FBekIsRUFJRTtBQUNoQixRQUFNLENBQUNDLEtBQUQsRUFBUUMsUUFBUixJQUFvQlQsUUFBUSxDQUFlO0FBQ2hEVSxJQUFBQSxJQUFJLEVBQUVMLElBQUksQ0FBQ0ssSUFEcUM7QUFFaERDLElBQUFBLElBQUksRUFBRU4sSUFBSSxDQUFDTTtBQUZxQyxHQUFmLENBQWxDO0FBS0FWLEVBQUFBLFNBQVMsQ0FBQyxNQUFNO0FBQ2YsVUFBTVcsUUFBUSxHQUFHLE1BQU07QUFDdEJILE1BQUFBLFFBQVEsQ0FBQztBQUNSRSxRQUFBQSxJQUFJLEVBQUVOLElBQUksQ0FBQ00sSUFESDtBQUVSRCxRQUFBQSxJQUFJLEVBQUVMLElBQUksQ0FBQ0s7QUFGSCxPQUFELENBQVI7QUFJQSxLQUxEOztBQU9BTCxJQUFBQSxJQUFJLENBQUNRLEVBQUwsQ0FBUSxRQUFSLEVBQWtCRCxRQUFsQjtBQUVBLFdBQU8sTUFBTTtBQUNaUCxNQUFBQSxJQUFJLENBQUNTLEdBQUwsQ0FBUyxRQUFULEVBQW1CRixRQUFuQjtBQUNBLEtBRkQ7QUFHQSxHQWJRLEVBYU4sQ0FBQ1AsSUFBRCxDQWJNLENBQVQ7QUFlQSxRQUFNVSxLQUFLLEdBQUdiLE9BQU8sQ0FBWSxNQUFNO0FBQ3RDLFdBQU87QUFDTmMsTUFBQUEsUUFBUSxFQUFFLFVBREo7QUFFTk4sTUFBQUEsSUFBSSxFQUFFRixLQUFLLENBQUNFO0FBRk4sS0FBUDtBQUlBLEdBTG9CLEVBS2xCLENBQUNGLEtBQUssQ0FBQ0UsSUFBUCxDQUxrQixDQUFyQjtBQU9BLFFBQU1PLEtBQUssR0FBRztBQUNiVixJQUFBQSxRQUFRLEVBQUVBLFFBQVEsSUFBSSxJQUFaLEdBQW1CQSxRQUFuQixHQUE4Qlc7QUFEM0IsR0FBZDtBQUlBLFNBQ0MsQ0FBQyxJQUFELENBQU0sTUFBTSxDQUFDSCxLQUFELENBQVosQ0FBb0IsSUFBSUUsS0FBSixDQUFwQjtHQUNDLENBQUNYLFVBQVUsQ0FBQ0UsS0FBSyxDQUFDRyxJQUFQLENBQVg7RUFDRCxFQUFFLElBQUYsQ0FIRDtBQUtBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtb30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEluZmluaXRlRWxlbWVudCBmcm9tICcuL0luZmluaXRlRWxlbWVudCc7XG5pbXBvcnQge0xheW91dENoYW5nZUV2ZW50LCBWaWV3fSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuXG5pbnRlcmZhY2UgSXRlbVByb3BzPFQ+IHtcblx0aXRlbTogSW5maW5pdGVFbGVtZW50PFQ+O1xuXHRyZW5kZXJJdGVtOiAoZGF0YTogVCB8IG51bGwpID0+IFJlYWN0LlJlYWN0RWxlbWVudDtcblx0b25MYXlvdXQ/OiAoKGU6IExheW91dENoYW5nZUV2ZW50KSA9PiB2b2lkKSB8IG51bGw7XG59XG5cbmludGVyZmFjZSBJdGVtU3RhdGU8VD4ge1xuXHRsZWZ0OiBudW1iZXI7XG5cdGRhdGE6IFQgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgU3R5bGVNZW1vIHtcblx0cG9zaXRpb246ICdhYnNvbHV0ZSc7XG5cdGxlZnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW5maW5pdGVJdGVtPFQ+KHtcblx0aXRlbSxcblx0cmVuZGVySXRlbSxcblx0b25MYXlvdXQsXG59OiBJdGVtUHJvcHM8VD4pIHtcblx0Y29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxJdGVtU3RhdGU8VD4+KHtcblx0XHRsZWZ0OiBpdGVtLmxlZnQsXG5cdFx0ZGF0YTogaXRlbS5kYXRhLFxuXHR9KTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGNvbnN0IG9uVXBkYXRlID0gKCkgPT4ge1xuXHRcdFx0c2V0U3RhdGUoe1xuXHRcdFx0XHRkYXRhOiBpdGVtLmRhdGEsXG5cdFx0XHRcdGxlZnQ6IGl0ZW0ubGVmdCxcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRpdGVtLm9uKCd1cGRhdGUnLCBvblVwZGF0ZSk7XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0aXRlbS5vZmYoJ3VwZGF0ZScsIG9uVXBkYXRlKTtcblx0XHR9O1xuXHR9LCBbaXRlbV0pO1xuXG5cdGNvbnN0IHN0eWxlID0gdXNlTWVtbzxTdHlsZU1lbW8+KCgpID0+IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRsZWZ0OiBzdGF0ZS5sZWZ0LFxuXHRcdH07XG5cdH0sIFtzdGF0ZS5sZWZ0XSk7XG5cblx0Y29uc3QgcHJvcHMgPSB7XG5cdFx0b25MYXlvdXQ6IG9uTGF5b3V0ICE9IG51bGwgPyBvbkxheW91dCA6IHVuZGVmaW5lZCxcblx0fTtcblxuXHRyZXR1cm4gKFxuXHRcdDxWaWV3IHN0eWxlPXtzdHlsZX0gey4uLnByb3BzfT5cblx0XHRcdHtyZW5kZXJJdGVtKHN0YXRlLmRhdGEpfVxuXHRcdDwvVmlldz5cblx0KTtcbn1cbiJdfQ==