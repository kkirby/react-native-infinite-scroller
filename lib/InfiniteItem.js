import React, { useState, useEffect, useMemo } from 'react';
import { View } from 'react-native';
export default function InfiniteItem({
  item,
  renderItem,
  onLayout
}) {
  const [state, setState] = useState({
    left: item.left,
    data: item.data
  });
  useEffect(() => {
    const onUpdate = () => {
      setState({
        data: item.data,
        left: item.left
      });
    };

    item.on('update', onUpdate);
    return () => {
      item.off('update', onUpdate);
    };
  }, [item]);
  const style = useMemo(() => {
    return {
      position: 'absolute',
      left: state.left
    };
  }, [state.left]);
  /*const renderedItem = useMemo(() => renderItem(state.data), [
  	state.data,
  	renderItem,
  ]);*/

  return <View style={style} onLayout={onLayout}>
			{renderItem(state.data)}
		</View>;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9JbmZpbml0ZUl0ZW0udHN4Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiVmlldyIsIkluZmluaXRlSXRlbSIsIml0ZW0iLCJyZW5kZXJJdGVtIiwib25MYXlvdXQiLCJzdGF0ZSIsInNldFN0YXRlIiwibGVmdCIsImRhdGEiLCJvblVwZGF0ZSIsIm9uIiwib2ZmIiwic3R5bGUiLCJwb3NpdGlvbiJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsS0FBUCxJQUFlQyxRQUFmLEVBQXlCQyxTQUF6QixFQUFvQ0MsT0FBcEMsUUFBa0QsT0FBbEQ7QUFFQSxTQUEyQkMsSUFBM0IsUUFBc0MsY0FBdEM7QUFrQkEsZUFBZSxTQUFTQyxZQUFULENBQXlCO0FBQ3ZDQyxFQUFBQSxJQUR1QztBQUV2Q0MsRUFBQUEsVUFGdUM7QUFHdkNDLEVBQUFBO0FBSHVDLENBQXpCLEVBSUU7QUFDaEIsUUFBTSxDQUFDQyxLQUFELEVBQVFDLFFBQVIsSUFBb0JULFFBQVEsQ0FBZTtBQUNoRFUsSUFBQUEsSUFBSSxFQUFFTCxJQUFJLENBQUNLLElBRHFDO0FBRWhEQyxJQUFBQSxJQUFJLEVBQUVOLElBQUksQ0FBQ007QUFGcUMsR0FBZixDQUFsQztBQUtBVixFQUFBQSxTQUFTLENBQUMsTUFBTTtBQUNmLFVBQU1XLFFBQVEsR0FBRyxNQUFNO0FBQ3RCSCxNQUFBQSxRQUFRLENBQUM7QUFDUkUsUUFBQUEsSUFBSSxFQUFFTixJQUFJLENBQUNNLElBREg7QUFFUkQsUUFBQUEsSUFBSSxFQUFFTCxJQUFJLENBQUNLO0FBRkgsT0FBRCxDQUFSO0FBSUEsS0FMRDs7QUFPQUwsSUFBQUEsSUFBSSxDQUFDUSxFQUFMLENBQVEsUUFBUixFQUFrQkQsUUFBbEI7QUFFQSxXQUFPLE1BQU07QUFDWlAsTUFBQUEsSUFBSSxDQUFDUyxHQUFMLENBQVMsUUFBVCxFQUFtQkYsUUFBbkI7QUFDQSxLQUZEO0FBR0EsR0FiUSxFQWFOLENBQUNQLElBQUQsQ0FiTSxDQUFUO0FBZUEsUUFBTVUsS0FBSyxHQUFHYixPQUFPLENBQVksTUFBTTtBQUN0QyxXQUFPO0FBQ05jLE1BQUFBLFFBQVEsRUFBRSxVQURKO0FBRU5OLE1BQUFBLElBQUksRUFBRUYsS0FBSyxDQUFDRTtBQUZOLEtBQVA7QUFJQSxHQUxvQixFQUtsQixDQUFDRixLQUFLLENBQUNFLElBQVAsQ0FMa0IsQ0FBckI7QUFPQTs7Ozs7QUFLQSxTQUNDLENBQUMsSUFBRCxDQUFNLE1BQU0sQ0FBQ0ssS0FBRCxDQUFaLENBQW9CLFNBQVMsQ0FBQ1IsUUFBRCxDQUE3QjtHQUNDLENBQUNELFVBQVUsQ0FBQ0UsS0FBSyxDQUFDRyxJQUFQLENBQVg7RUFDRCxFQUFFLElBQUYsQ0FIRDtBQUtBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtb30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEluZmluaXRlRWxlbWVudCBmcm9tICcuL0luZmluaXRlRWxlbWVudCc7XG5pbXBvcnQge0xheW91dENoYW5nZUV2ZW50LCBWaWV3fSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuXG5pbnRlcmZhY2UgSXRlbVByb3BzPFQ+IHtcblx0aXRlbTogSW5maW5pdGVFbGVtZW50PFQ+O1xuXHRyZW5kZXJJdGVtOiAoZGF0YTogVCB8IG51bGwpID0+IFJlYWN0LlJlYWN0RWxlbWVudDtcblx0b25MYXlvdXQ6IChlOiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIEl0ZW1TdGF0ZTxUPiB7XG5cdGxlZnQ6IG51bWJlcjtcblx0ZGF0YTogVCB8IG51bGw7XG59XG5cbmludGVyZmFjZSBTdHlsZU1lbW8ge1xuXHRwb3NpdGlvbjogJ2Fic29sdXRlJztcblx0bGVmdDogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbmZpbml0ZUl0ZW08VD4oe1xuXHRpdGVtLFxuXHRyZW5kZXJJdGVtLFxuXHRvbkxheW91dCxcbn06IEl0ZW1Qcm9wczxUPikge1xuXHRjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlPEl0ZW1TdGF0ZTxUPj4oe1xuXHRcdGxlZnQ6IGl0ZW0ubGVmdCxcblx0XHRkYXRhOiBpdGVtLmRhdGEsXG5cdH0pO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0Y29uc3Qgb25VcGRhdGUgPSAoKSA9PiB7XG5cdFx0XHRzZXRTdGF0ZSh7XG5cdFx0XHRcdGRhdGE6IGl0ZW0uZGF0YSxcblx0XHRcdFx0bGVmdDogaXRlbS5sZWZ0LFxuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdGl0ZW0ub24oJ3VwZGF0ZScsIG9uVXBkYXRlKTtcblxuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRpdGVtLm9mZigndXBkYXRlJywgb25VcGRhdGUpO1xuXHRcdH07XG5cdH0sIFtpdGVtXSk7XG5cblx0Y29uc3Qgc3R5bGUgPSB1c2VNZW1vPFN0eWxlTWVtbz4oKCkgPT4ge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdGxlZnQ6IHN0YXRlLmxlZnQsXG5cdFx0fTtcblx0fSwgW3N0YXRlLmxlZnRdKTtcblxuXHQvKmNvbnN0IHJlbmRlcmVkSXRlbSA9IHVzZU1lbW8oKCkgPT4gcmVuZGVySXRlbShzdGF0ZS5kYXRhKSwgW1xuXHRcdHN0YXRlLmRhdGEsXG5cdFx0cmVuZGVySXRlbSxcblx0XSk7Ki9cblxuXHRyZXR1cm4gKFxuXHRcdDxWaWV3IHN0eWxlPXtzdHlsZX0gb25MYXlvdXQ9e29uTGF5b3V0fT5cblx0XHRcdHtyZW5kZXJJdGVtKHN0YXRlLmRhdGEpfVxuXHRcdDwvVmlldz5cblx0KTtcbn1cbiJdfQ==